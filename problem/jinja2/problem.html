{% set title = problem.oj_id %}

{% extends 'base.html' %}

{% block endhead %}
{{ super() }}
<style>
{% include 'pygments.css' %}
</style>
{% endblock %}

{% block content %}
<h1 class="page-header text-center">Problem {{ problem.oj_id }}</h1>
<div class="text-right">
  {% if not shared %}
  <a href="{{ problem.share_url }}"><button class="btn btn-primary">share your AC to see others' code</button></a>
  {% else %}
  <a href="{{ problem.share_url }}"><button class="btn btn-primary">update shared code</button></a>
  {% endif %}
</div>
<p class="text-right">{{ code_list.count() }} people shared their code on this problem.</p>
<div class="row">
  <div class="col-sm-11 col-sm-offset-1">
    <iframe src="http://acm.cs.nthu.edu.tw/problem/{{ problem_id }}/" style="width: 100%; height: 400px"></iframe>
  </div>
</div>
<hr>
{% if shared %}
<div>
  {% for code in code_list %}
  <div class="row">
    <div class="col-sm-1">
      #{{ code.pk }}
      <a href="{{ url('problem:code-upvote', pk=code.pk) }}">upvote</a> (+{{ code.upvotes }})
    </div>
    <div class="col-sm-11">
      {{ code.text | highlight }}
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}
{% endblock %}
